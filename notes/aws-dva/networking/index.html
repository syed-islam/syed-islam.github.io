
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../security-compliance/" rel="prev"/>
<link href="../other-services/" rel="next"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.12" name="generator"/>
<title>Networking - Syed's Home</title>
<link href="../../../assets/stylesheets/main.0d440cfe.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.2505c338.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#networking">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Syed's Home" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Syed's Home">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Syed's Home
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Networking
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
      About me
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../academia/teaching/">
        Academia
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../publication/">
      Publications
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../research/research_interest/">
        Research
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../awards/awards/">
        Awards
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../introduction/">
        Study Notes
      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Syed's Home" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Syed's Home">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Syed's Home
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        About me
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Academia
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Academia
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academia/teaching/">
        Teaching
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academia/supervision/">
        Supervision
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academia/phd_examination/">
        PhD Examination
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academia/admin/">
        Admin Roles
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academia/affiliations/">
        Affiliations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../academia/cv/">
        Academic CV
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../publication/">
        Publications
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Research
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Research
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../research/research_interest/">
        Research Interest
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../research/program-analysis/">
        Program Analysis Projects
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../research/cloud-security/">
        Cloud Security Projects
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../research/fastfix/">
        SBSE Projects
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../research/visualization/">
        Visualization Projects
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../research/project_ideas/">
        Project Ideas for Students
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Awards
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Awards
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../awards/awards/">
        Awards &amp; Achievements
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../awards/event-videos-photo/">
        UEL Awards Event
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../awards/badges/">
        Badges
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Study Notes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Study Notes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
          AWS Developer Associate
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_1">
<span class="md-nav__icon md-icon"></span>
          AWS Developer Associate
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../introduction/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../compute/">
        Compute
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../storage/">
        Storage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../security-compliance/">
        Security and Compliance
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Networking
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Networking
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#ip-ranges">
    IP Ranges
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vpc">
    VPC
  </a>
<nav aria-label="VPC" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#properties">
    Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#limits">
    Limits
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subnets">
    Subnets
  </a>
<nav aria-label="Subnets" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#properties_1">
    Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#public-subnet">
    Public Subnet
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-subnet">
    Private Subnet
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nacl-network-access-control-list">
    NACL - Network Access Control List
  </a>
<nav aria-label="NACL - Network Access Control List" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#properties_2">
    Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#structure">
    Structure
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#security-groups">
    Security Groups
  </a>
<nav aria-label="Security Groups" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#property">
    Property
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#structure_1">
    Structure
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#internet-gateway">
    Internet Gateway
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nat-gateway">
    NAT Gateway
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bastion-host">
    Bastion Host
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vpn-connection">
    VPN Connection
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#direct-connect">
    Direct Connect
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vpc-peering">
    VPC Peering
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#transit-gateway">
    Transit Gateway
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53">
    Route 53
  </a>
<nav aria-label="Route 53" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#properties_3">
    Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#components">
    Components
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#record-types">
    Record Types
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#routing-policies">
    Routing Policies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#health-check">
    Health Check
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53-traffic-flow">
    Route 53 Traffic Flow
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53-resolver">
    Route 53 Resolver
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53-resolver-dns-firewall">
    Route 53 Resolver DNS firewall
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53-application-recovery-controller">
    Route 53 Application Recovery Controller
  </a>
<nav aria-label="Route 53 Application Recovery Controller" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#readiness-check">
    Readiness Check
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#routing-controls">
    Routing Controls
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#safety-rules">
    Safety Rules
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-gateway">
    API Gateway
  </a>
<nav aria-label="API Gateway" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#api-endpoint-types">
    API Endpoint Types
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#protocols">
    Protocols
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integrations-with-backend">
    Integrations with Backend
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-gateway-authorizers">
    API Gateway Authorizers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gateway-security">
    Gateway Security
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#usage-plans-via-api-keys">
    Usage Plans via API Keys
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#caching">
    Caching
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-metric">
    API Metric
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pricing">
    Pricing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary-tables">
    Summary Tables
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cloudfront">
    CloudFront
  </a>
<nav aria-label="CloudFront" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dynamic-content">
    Dynamic Content
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#static-content">
    Static Content
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-options">
    Configuration Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#caching-layers">
    Caching Layers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#security">
    Security
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integrations">
    Integrations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#patterns">
    Patterns
  </a>
<nav aria-label="Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#alb-and-ec2">
    ALB and EC2
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#s3-content-delivery">
    S3 Content Delivery
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aws-global-accelerator">
    AWS Global Accelerator
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elb-elastic-load-balancer">
    ELB - Elastic Load Balancer
  </a>
<nav aria-label="ELB - Elastic Load Balancer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#comparison">
    Comparison
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#components_1">
    Components
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elb-nodes">
    ELB Nodes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#internal-or-internet-facing-elbs">
    Internal or Internet-facing ELBs.
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cross-zone-load-balancing">
    Cross-Zone load balancing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alb">
    ALB
  </a>
<nav aria-label="ALB" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
<nav aria-label="Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#target-group-configuration">
    Target Group Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#load-balancer-configuration">
    Load Balancer Configuration
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nlb">
    NLB
  </a>
<nav aria-label="NLB" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration_1">
    Configuration
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#classic-load-balancer">
    Classic Load Balancer
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#health-check_1">
    Health Check
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#server-certificate-ssltls">
    Server Certificate (SSL/TLS)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#http-code">
    HTTP Code
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../other-services/">
        Other Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-summary/summary/">
        Summary
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
          AWS Practitioner
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_2">
<span class="md-nav__icon md-icon"></span>
          AWS Practitioner
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/introduction/">
        Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/domains/">
        Domains
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/compute/">
        Compute
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/storage/">
        Storage
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/database/">
        Database
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/networking/">
        Networking
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/queuing-service/">
        Queuing Service
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/streaming/">
        Streaming
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/security-compliance/">
        Security and Compliance
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/disaster-recovery/">
        Disaster Recovery
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/management/">
        Management
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/billing-pricing-service/">
        Billing, Pricing and Support
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-practitioner/other-services/">
        Other Services
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../aws-summary/summary/">
        Summary
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#ip-ranges">
    IP Ranges
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vpc">
    VPC
  </a>
<nav aria-label="VPC" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#properties">
    Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#limits">
    Limits
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subnets">
    Subnets
  </a>
<nav aria-label="Subnets" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#properties_1">
    Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#public-subnet">
    Public Subnet
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#private-subnet">
    Private Subnet
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nacl-network-access-control-list">
    NACL - Network Access Control List
  </a>
<nav aria-label="NACL - Network Access Control List" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#properties_2">
    Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#structure">
    Structure
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#security-groups">
    Security Groups
  </a>
<nav aria-label="Security Groups" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#property">
    Property
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#structure_1">
    Structure
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#internet-gateway">
    Internet Gateway
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nat-gateway">
    NAT Gateway
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bastion-host">
    Bastion Host
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vpn-connection">
    VPN Connection
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#direct-connect">
    Direct Connect
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#vpc-peering">
    VPC Peering
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#transit-gateway">
    Transit Gateway
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53">
    Route 53
  </a>
<nav aria-label="Route 53" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#properties_3">
    Properties
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#components">
    Components
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#record-types">
    Record Types
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#routing-policies">
    Routing Policies
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#health-check">
    Health Check
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53-traffic-flow">
    Route 53 Traffic Flow
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53-resolver">
    Route 53 Resolver
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53-resolver-dns-firewall">
    Route 53 Resolver DNS firewall
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#route-53-application-recovery-controller">
    Route 53 Application Recovery Controller
  </a>
<nav aria-label="Route 53 Application Recovery Controller" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#readiness-check">
    Readiness Check
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#routing-controls">
    Routing Controls
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#safety-rules">
    Safety Rules
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-gateway">
    API Gateway
  </a>
<nav aria-label="API Gateway" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#api-endpoint-types">
    API Endpoint Types
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#protocols">
    Protocols
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integrations-with-backend">
    Integrations with Backend
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-gateway-authorizers">
    API Gateway Authorizers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#gateway-security">
    Gateway Security
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#usage-plans-via-api-keys">
    Usage Plans via API Keys
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#caching">
    Caching
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-metric">
    API Metric
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pricing">
    Pricing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary-tables">
    Summary Tables
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cloudfront">
    CloudFront
  </a>
<nav aria-label="CloudFront" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dynamic-content">
    Dynamic Content
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#static-content">
    Static Content
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-options">
    Configuration Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#caching-layers">
    Caching Layers
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#security">
    Security
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integrations">
    Integrations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#patterns">
    Patterns
  </a>
<nav aria-label="Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#alb-and-ec2">
    ALB and EC2
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#s3-content-delivery">
    S3 Content Delivery
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aws-global-accelerator">
    AWS Global Accelerator
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elb-elastic-load-balancer">
    ELB - Elastic Load Balancer
  </a>
<nav aria-label="ELB - Elastic Load Balancer" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#comparison">
    Comparison
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#components_1">
    Components
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#elb-nodes">
    ELB Nodes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#internal-or-internet-facing-elbs">
    Internal or Internet-facing ELBs.
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cross-zone-load-balancing">
    Cross-Zone load balancing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alb">
    ALB
  </a>
<nav aria-label="ALB" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
<nav aria-label="Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#target-group-configuration">
    Target Group Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#load-balancer-configuration">
    Load Balancer Configuration
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nlb">
    NLB
  </a>
<nav aria-label="NLB" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration_1">
    Configuration
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#classic-load-balancer">
    Classic Load Balancer
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#health-check_1">
    Health Check
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#server-certificate-ssltls">
    Server Certificate (SSL/TLS)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#http-code">
    HTTP Code
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="networking">Networking</h1>
<div class="admonition danger">
<p class="admonition-title">Incomplete</p>
<p>In progress.</p>
</div>
<h2 id="ip-ranges">IP Ranges</h2>
<p>Reserved addresses with subnet 10.0.1.0/24</p>
<ul>
<li>10.0.1.0 - Network</li>
<li>10.0.1.1 - AWS Routing</li>
<li>10.0.1.2 - AWS DNS</li>
<li>10.0.1.3 - AWS Future</li>
<li>10.0.1.255 - Broadcast</li>
</ul>
<h2 id="vpc">VPC</h2>
<h3 id="properties">Properties</h3>
<ul>
<li>Isolated piece of the AWS Cloud only accessible by your AWS Account</li>
<li>Define a name and a CIDR block from /16 to /28.</li>
</ul>
<h3 id="limits">Limits</h3>
<ul>
<li>5 VPC per region per account</li>
<li>VPCs exist within a region.</li>
</ul>
<h2 id="subnets">Subnets</h2>
<h3 id="properties_1">Properties</h3>
<ul>
<li>Reside inside a VPC and segment VPC.</li>
<li>CIDR must reside within the CIDR of the VPC.</li>
<li>Can be <strong>Public</strong> or <strong>Private</strong>.</li>
<li>Each subnet has <strong>a</strong> route table. </li>
<li>A route table can be attached to multiple subnets. </li>
<li>Each subnet comes with a default route table with a <strong>local</strong> route that can't be deleted.</li>
<li>Subnets have to reside within one AZs, can't span multiple AZs.</li>
</ul>
<h3 id="public-subnet">Public Subnet</h3>
<ul>
<li>Needs an entry in the route table pointing to the Internet Gateway.</li>
</ul>
<h3 id="private-subnet">Private Subnet</h3>
<ul>
<li>No route entry for the Internet Gateway.</li>
<li>Needs a route entry pointing to a configured NAT Gateway in a public subnet to get outbound communications to the Internet. </li>
</ul>
<h2 id="nacl-network-access-control-list">NACL - Network Access Control List</h2>
<h3 id="properties_2">Properties</h3>
<ul>
<li>Provides security for subnets and controls traffic in and out of subnets.</li>
<li>Default NACL is attached to each subnet created. Default NACL allows all traffic in and out. </li>
<li>All NACLs have a default rule at the end of the list with Deny. Implicit Deny. </li>
<li>There are Inbound NACLs and Outbound NACLs</li>
<li>NACLs are <strong>stateless</strong>.</li>
<li>Each subnet can have only one NACL.</li>
<li>Same NACLs can be associated with multiple subnets.</li>
<li>Evaluation stops at first match of a rule.</li>
</ul>
<h3 id="structure">Structure</h3>
<table>
<thead>
<tr>
<th>Inbound</th>
<th>Outbound</th>
</tr>
</thead>
<tbody>
<tr>
<td>Rule Number</td>
<td>Rule Number</td>
</tr>
<tr>
<td>Type (HTTP)</td>
<td>Type (HTTP)</td>
</tr>
<tr>
<td>Protocol (TCP)</td>
<td>Protocol (TCP)</td>
</tr>
<tr>
<td>Port Range (80)</td>
<td>Port Range (80)</td>
</tr>
<tr>
<td>Source (0.0.0.0/-)</td>
<td>Destination (0.0.0.0/-)</td>
</tr>
<tr>
<td>Action (Allow/Deny)</td>
<td>Action (Allow/Deny)</td>
</tr>
</tbody>
</table>
<h2 id="security-groups">Security Groups</h2>
<h3 id="property">Property</h3>
<ul>
<li>Security Groups work at the instance level. </li>
<li>Rules are an explicit Allow, they can't be deny. </li>
<li>All Rules are evaluated before a decision is made.</li>
<li>Implicit Deny if no rules match</li>
<li>There are inbound and outbound security groups</li>
<li>They are <strong>stateful</strong></li>
<li><strong>Default</strong> - All inbound from same security group, All Outbound Traffic allowed to everywhere. </li>
</ul>
<h3 id="structure_1">Structure</h3>
<table>
<thead>
<tr>
<th>Inbound</th>
<th>Outbound</th>
</tr>
</thead>
<tbody>
<tr>
<td>Type (MySQL)</td>
<td>Type</td>
</tr>
<tr>
<td>Protocol (TCP)</td>
<td>Protocol (TCP)</td>
</tr>
<tr>
<td>Port Range (3306)</td>
<td>Port Range</td>
</tr>
<tr>
<td>Source 10.0.1.0/24</td>
<td>Source</td>
</tr>
</tbody>
</table>
<h2 id="internet-gateway">Internet Gateway</h2>
<ul>
<li>Attaches to VPC and allows connections to the Internet.</li>
<li>Managed by AWS.</li>
</ul>
<h2 id="nat-gateway">NAT Gateway</h2>
<ul>
<li>Sits within the public subnet</li>
<li>Needs an EIP</li>
<li>Does not accept any inbound traffic from Internet</li>
<li>Its managed by AWS. Has high availability setup by AWS.</li>
</ul>
<h2 id="bastion-host">Bastion Host</h2>
<ul>
<li>Resides on the public subnet, hardened, and allows incoming connections from Internet. </li>
<li>Bastion hosts simply forwards incoming connections (ssh tunnel) to EC2s in the private subnet.</li>
<li>Bastion host is essentially an EC2 instance which is keep secured and tightly controlled.</li>
</ul>
<h2 id="vpn-connection">VPN Connection</h2>
<ul>
<li>On-prem to AWS</li>
<li>Customer Gateway (CGW) and VGW (Virtual Private Gateway)</li>
<li>Encrypted traffic over the Internet. </li>
<li>AWS Subnet Route tables will need routes to the On-prem resources. </li>
<li>VPN tunnel can only be initiate from CGW.</li>
<li>Idle activity causes connection drop. Monitoring to keep alive. </li>
<li>Route Propagation can be turned on the route table and will allow routes to added to Route Tables.</li>
<li>BGP on CGW enables dynamic routing and is recommended</li>
<li>Security Groups also need to be configured for instances for the data connectivity. </li>
</ul>
<h2 id="direct-connect">Direct Connect</h2>
<ul>
<li>Private infrastructure and does not traverse the public network</li>
<li>Router on On-Prem, AWS Partner [Customer Side (Router) +  AWS Side (Router)], AWS Region.</li>
<li>Direct Connect enables connection to AWS Defined Region. </li>
<li>This enables access to public and private resources on AWS.</li>
<li>The VPC would still need the Virtual Gateway (VGW) to enable on-prem traffic.</li>
<li>Private Virtual Interface / Public Virtual Interface defines whether routes are to private subnet or public resources. Private Virtual Interface connects to VGW and Private Virtual Interface connects to Region. </li>
<li>Dedicated network route from on-prem to Direct Connect Location. </li>
<li>Its private connection and speeds of 1-10GBPs</li>
</ul>
<h2 id="vpc-peering">VPC Peering</h2>
<ul>
<li>1-2-1 connection only. Not transitive. </li>
<li>CIDR blocks can't overlap.</li>
<li>Can peer VPC in different regions</li>
<li>Requester requests a peering connection, Acceptor Accepts it. </li>
<li>Route tables of both VPC needs to be updated to point to the peered connection. </li>
</ul>
<h2 id="transit-gateway">Transit Gateway</h2>
<ul>
<li>A central hub to connect all VPCs for peering and VPN connections. </li>
<li>Saves from paired connections and </li>
<li>Connectivity can be achieved by individual connection directly to Transit Gateway.</li>
<li>Centralized monitoring of network traffic as it goes through a central hub.</li>
</ul>
<h2 id="route-53">Route 53</h2>
<h3 id="properties_3">Properties</h3>
<ul>
<li>Global network of DNS Authoritative servers.</li>
<li>Hosted zone - how to route traffic for a particular domain</li>
<li>Public zone - how is traffic routed on the public internet</li>
<li>Private zone - how is traffic routed inside AWS.</li>
</ul>
<h3 id="components">Components</h3>
<ul>
<li>Routing Policies</li>
<li>Traffic Flow</li>
<li>Application Recovery Controller</li>
<li>Route 53 Resolver</li>
<li>Route 53 Resolver DNS Firewall</li>
</ul>
<h3 id="record-types">Record Types</h3>
<table>
<thead>
<tr>
<th>Record Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>Route traffic to a resource using IP4</td>
</tr>
<tr>
<td>AAAA</td>
<td>Route traffic to a resource using IP6</td>
</tr>
<tr>
<td>CAA</td>
<td>Certificate authority for domain and subdomains</td>
</tr>
<tr>
<td>CNAME</td>
<td>Used as an Alias of one name to another. Does <strong>not</strong> work for APEX.</td>
</tr>
<tr>
<td>MX</td>
<td>Mail Server. Multiple records with priority numbers are used.</td>
</tr>
<tr>
<td>NAPTR</td>
<td>Name Authority Pointer</td>
</tr>
<tr>
<td>NS</td>
<td>Named server for hosted zone</td>
</tr>
<tr>
<td>PTR</td>
<td>Map IP to domain name</td>
</tr>
<tr>
<td>SOA</td>
<td>Start of Authority Records</td>
</tr>
</tbody>
</table>
<p><strong>Alias</strong> is a route 53 specific extension to DNS. It can be used to map <strong>Apex</strong> domains which is not possible to do with CNAME. Routes traffic to:
 * S3 buckets
 * ELBs
 * Elastic Beanstalk
 * CloudFront Distributions
 * VPC Interface Endpoints</p>
<h3 id="routing-policies">Routing Policies</h3>
<table>
<thead>
<tr>
<th>Routing Policy</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Simple</td>
<td>Default, no health check, single resource. Random if multiple available.</td>
</tr>
<tr>
<td>Failover</td>
<td>Route to different policy based on health checks, active passive failover. Primary and Secondary defined and must have health check defined.</td>
</tr>
<tr>
<td>Geo-Location</td>
<td>Geographic location/origin of traffic</td>
</tr>
<tr>
<td>Geo Proximity</td>
<td>Based on both users and resource location. Bias (-99 to 99) allows to adjust scope of resource and controls routing of traffic. Needs to be created using Route 53 Traffic Flow to create policy.</td>
</tr>
<tr>
<td>Latency</td>
<td>Routing based on lowest latency</td>
</tr>
<tr>
<td>Multi-value</td>
<td>Returns up to 8 records at once</td>
</tr>
<tr>
<td>Weighted</td>
<td>Distributes traffic according to weights. 0 means record never returned.</td>
</tr>
</tbody>
</table>
<h3 id="health-check">Health Check</h3>
<ul>
<li>Endpoints are defined for health check</li>
<li>Sends request every 30s by default. Can also be done very 10s.</li>
<li>Health Checks can depend on other Health Checks and the cumulative value can be checked against defined threshold</li>
<li>Health check can be based on CloudWatch Alarm status.</li>
<li>Health checks are performed by regional health checkers</li>
<li>By IP or Domain Name</li>
<li>HTTP / HTTPS</li>
<li>HTTP protocol can look at particular response within the first 520 bytes of the response.</li>
<li>Notification when health checks fails can be setup. </li>
</ul>
<h3 id="route-53-traffic-flow">Route 53 Traffic Flow</h3>
<p>Traffic flow simplifies the process of creating and maintaining records in large and complex configurations. This is useful when you have a group of resources that perform the same operation, such as a fleet of web servers for the same domain.  </p>
<p>The traffic flow visual editor lets you create complex sets of records and see the relationships among them. You can combine multiple routing policies and health checks in a single configuration. Each configuration is called a traffic policy and it’s automatically versioned so you don’t have to start all over again when your configuration changes. Old versions of traffic policies continue to be available until you delete them. </p>
<p>A traffic policy can define hundreds of records. Traffic flow creates all those records automatically when you create a policy record.  You create policy records to associate traffic policies with a domain or subdomain name records.  The traffic policy record appears in the list of records for the hosted zone. You can use the same traffic policy to create records in multiple public-hosted zones.  This is useful when you’re using the same hosts for multiple domains.  </p>
<p>Please note that the Geo-proximity routing policy is available only if you use traffic flow.</p>
<h3 id="route-53-resolver">Route 53 Resolver</h3>
<p>The Route 53 resolver is the DNS service for VPCs that integrates with your data center. Connectivity needs to be established between data center DNS and AWS using a Direct Connect (DX) or a Virtual Private Network (VPN) connection.    </p>
<p>Endpoints for DNS queries into and out of VPC are configured through IP address assignment in each subnet needing the Route 53 Resolver. Inbound queries allow DNS queries that originate in your data center to resolve AWS-hosted domains.  Outbound DNS queries are enabled using conditional forwarding rules. Domains hosted in your data center can be configured as forwarding rules in Route 53 resolver.  </p>
<h3 id="route-53-resolver-dns-firewall">Route 53 Resolver DNS firewall</h3>
<p>Finally, the Route 53 Resolver DNS firewall is a managed firewall service for DNS queries that start in your VPCs.  Firewall rule group to define how Route 53 Resolver DNS firewall inspects and filters traffic coming from VPC.  Each rule consists of a domain list to inspect in DNS queries and an action to take when a query results in a match.  Actions can be:
 * A matching query to go through
 * Allow it to go through with an alert 
 * Block it and respond with a default or a custom response.  </p>
<p>To begin the filtering you associate the rule group to the VPCs you want to protect.  Route 53 resolver DNS firewall will apply your defined filtering rules to the outgoing VPC traffic.</p>
<h3 id="route-53-application-recovery-controller">Route 53 Application Recovery Controller</h3>
<p>Route 53 application recovery controller is a set of capabilities that continuously monitors an application’s ability to recover from failures and controls application recovery across multiple availability zones, regions, and possibly your own data center environments. </p>
<h4 id="readiness-check">Readiness Check</h4>
<p>You can define a readiness check to monitor AWS resource configurations, capacity, and network routing policies. They can check the configuration of Auto Scaling Groups, Amazon EC2 instances, Amazon EBS volumes, Elastic Load Balancers, RDS instances, and DynamoDB tables among others.  </p>
<p>These readiness checks ensure that the recovery environment is scaled and configured to take over when needed. You can check AWS service limits to verify that enough capacity can be deployed.   You can also verify that capacity and scaling setups for applications are exactly the same across regions before a failover takes place. </p>
<h3 id="routing-controls">Routing Controls</h3>
<p>Readiness Checks work with Routing Controls to give you a way to failover an entire application based on custom conditions like application metrics, partial failures, increased error rates, or latency. You can also failover manually.   With Routing Controls you can shift traffic for maintenance purposes or during a real failure scenario. 
A control panel is a group of routing controls for an application. As mentioned earlier, A routing control is used to turn traffic flow ON or OFF to individual cells in Regions or Availability Zones.  </p>
<h3 id="safety-rules">Safety Rules</h3>
<p>You can also apply safety rules to routing controls as a way to prevent a failover to an unprepared replica.  </p>
<h2 id="api-gateway">API Gateway</h2>
<ul>
<li>Building, monitoring, documenting and managing serverless API</li>
<li>100s of Thousands of requests per second and can throttle if necessary</li>
</ul>
<h3 id="api-endpoint-types">API Endpoint Types</h3>
<ul>
<li>Edge-Optimized API Endpoint - Closest point of presence to the customer</li>
<li>Regional API Endpoint - No CDN, Non-AWS CDN. Good for Customers that are within the region.</li>
<li>Private API Endpoint - Can only be access from the VPC via a Interface VPC Endpoint (ENI). </li>
</ul>
<h3 id="protocols">Protocols</h3>
<ul>
<li>HTTP  - </li>
<li>REST API -
          1. Single price point for every for an all-inclusive service needed to build, manage and service and API.</li>
<li>HTTP API - 
          1. Proxy APIs for AWS LAmbda or any HTTP Endpoint
          2. Modern APIs equipped with OIDC and OAuth2
          3. Workloads that are likely to grow very large. APIs for latency-sensitive workloads.</li>
<li>Websockets -  <ul>
<li>Persistent duplex connection, Real-time, chat app etc. </li>
<li>Be wary of spotty connections. </li>
</ul>
</li>
</ul>
<h3 id="integrations-with-backend">Integrations with Backend</h3>
<ul>
<li>
<p>Proxy Integration - Pass through, passes the request to the backend, easy to setup. </p>
<ul>
<li>Lambda</li>
<li>HTTP public endpoints</li>
</ul>
</li>
<li>
<p>Direct Integration - decouples API gateway from backend, more work, but can change request, headers, response and status codes.</p>
<ul>
<li>Lambda </li>
<li>HTTP public endpoints</li>
<li>Mock Integration</li>
<li>AWS Service - Any AWS service such as SQS, Step Function</li>
<li>VPC Link Integration - Resources within VPC.</li>
</ul>
</li>
</ul>
<h3 id="api-gateway-authorizers">API Gateway Authorizers</h3>
<ul>
<li>IAM Authorizer - Distribute IAM authorized roles to clients. Client requests must generate a Signature V4 request and have <code>Execute API</code> permissions. This works for REST API, HTTP API and Websocket Endpoint. </li>
<li>Lambda Authorizer - Customer Authorization model using Third Party Authorization or legacy systems. This works for REST API, HTTP API and Websocket Endpoint. </li>
<li>Cognito Authorizer - Only works with REST API. Complete user management using Cognito User pools, login page, MFA etc. Only works for REST API. </li>
<li>JWT Authorizer - to handle OAuth2.0 and OpenID connect compliant identity provider with Cognito. This only works for HTTP API. </li>
</ul>
<h3 id="gateway-security">Gateway Security</h3>
<ul>
<li>Deep integration with WAF to handle common attack patterns and specific ranges of IP addresses/regions. </li>
</ul>
<h3 id="usage-plans-via-api-keys">Usage Plans via API Keys</h3>
<ul>
<li>API keys can be created and distributed to customer. </li>
<li>Can be used to throttle to requests and billing. </li>
</ul>
<h3 id="caching">Caching</h3>
<ul>
<li>Built-in caching ability within the API Gateway.</li>
<li>Default TTL is 300s and can be put to between 0 - 3600 seconds </li>
<li>Need to choose the size of cache which has cost associate with it. </li>
<li>Caching only works with REST API. </li>
</ul>
<h3 id="api-metric">API Metric</h3>
<ul>
<li>4XX Errors - Number of client side errors / total Count</li>
<li>5XX Errors - Number of server side error / total count. </li>
<li>CacheHitCount</li>
<li>CacheMissCount</li>
<li>Total Count</li>
<li>IntegrationLatency - time between API gateway relays a request to backend and receives a response</li>
<li>Latency - time between request from client and response. </li>
<li>Metric is sent to CloudWatch Metric every minute. </li>
</ul>
<h3 id="pricing">Pricing</h3>
<ul>
<li>HTTP API Pricing is nearly 60% cheaper than that of REST API.</li>
</ul>
<h3 id="summary-tables">Summary Tables</h3>
<table>
<thead>
<tr>
<th>Authorizer</th>
<th>HTTP API</th>
<th>REST API</th>
</tr>
</thead>
<tbody>
<tr>
<td>AWS Lambda</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>IAM</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>Amazon Cognito</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/>*</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>Native OpenID Connect/OAuth2.0</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Integration</th>
<th>REST API</th>
<th>HTTP API</th>
<th>Websocket Endpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lambda Functions</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>Public HTTP Endpoint</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>Mock</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Any AWS Service</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>VPC Link</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Private Integration with ALB</td>
<td>NLB--&gt;ALB*</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Private Integration with NLB</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Integration</th>
<th>REST API</th>
<th>HTTP API</th>
</tr>
</thead>
<tbody>
<tr>
<td>Usage Plans</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>API Keys</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Custom Domain Names</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/>*</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Development</th>
<th>REST API</th>
<th>HTTP API</th>
</tr>
</thead>
<tbody>
<tr>
<td>API Caching</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Request Parameter Transformation</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>Request Body Transformation</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Request Response Validation</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Tesco Invocation</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>CORS Configuration</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/>*</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>Automatic Deployments</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Default Stage</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Default Route</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Custom gateway responses</td>
<td></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>Custom release deployment</td>
<td></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Security</th>
<th>REST API</th>
<th>HTTP API</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mutual TSL Authentication</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>Certificate based backend Authentication</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>AWS WAF</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Resource Policies</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Monitoring</th>
<th>REST API</th>
<th>HTTP API</th>
</tr>
</thead>
<tbody>
<tr>
<td>Access logs to Amazon CloudWatch Logs</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>Access logs to Amazon Kinesis Data Firehose</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Execution Logs</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
<tr>
<td>Amazon CloudWatch Metrics</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
</tr>
<tr>
<td>AWS X-Ray</td>
<td><img alt="✅" class="twemoji" src="https://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/2705.svg" title=":white_check_mark:"/></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="cloudfront">CloudFront</h2>
<ul>
<li>AWS CDN</li>
<li>Uses Edge locations around the world to delivery best performance through cached data close to the user. </li>
<li>Distributions Types:<ul>
<li>Web - static / dynamic content, media using http/https, submit data via web forms, live streaming in real-time</li>
<li>RTMP Distribution - Adobe Flash Media distribution. User can start watching video before file downloads. Source can only be <strong>S3 bucket</strong> not EC2.</li>
</ul>
</li>
<li>Caching behavior options can be controlled via methods and policies</li>
<li>Can select Regions where edge location distributions will be places/used.</li>
<li>WAF access control list can be placed on distribution</li>
<li>Implementation of additional encryption can be setup with SSL Certificates</li>
<li>Pay as you use for the service.</li>
<li>CloudFront can work with any <strong>public</strong> endpoint - AWS or Non-AWS.</li>
</ul>
<h3 id="dynamic-content">Dynamic Content</h3>
<ul>
<li>Origin can be EC2 server or Lambda functions</li>
</ul>
<h3 id="static-content">Static Content</h3>
<ul>
<li>Origin can be S3 Bucket. If S3 is static hosting website, must put point to the static site endpoint.</li>
<li>If S3 is used - Origin Access Identity (OAI) can be used to restrict access stopping direct access of S3 without cloudfront. </li>
</ul>
<h3 id="configuration-options">Configuration Options</h3>
<ul>
<li>Distributions</li>
<li>Origin Domain - Can be S3 or ALB which points to compute resources.</li>
<li>HTTP/HTTPS protocol</li>
<li>Cache time to Live (TTLs)</li>
<li>Custom Headers </li>
<li>Price class - All Locations, NA + EU, NA + EU + Asia + Middle East + Africa</li>
<li>AWS WAF web ACL Associations</li>
<li>Alternate domain names</li>
<li>Custom SSL</li>
<li>Standard logging</li>
<li>IP6 support</li>
</ul>
<h3 id="caching-layers">Caching Layers</h3>
<ol>
<li>Cloudfront Distributions - Edge Locations </li>
<li>Regional Edge Caches</li>
<li>AWS Origin Shield - This is <strong>not</strong> enabled by default. Allows for consolidated requests.</li>
</ol>
<h3 id="security">Security</h3>
<ul>
<li>SSD - encrypted at rest</li>
<li>user restrictions - Signed URLs and cookies</li>
<li>WAF protection via Web ACL</li>
<li>Geo restrictions to restrict users from certain locations.</li>
</ul>
<h3 id="integrations">Integrations</h3>
<ul>
<li>IAM - Admin access</li>
<li>CloudWatch Alarms - monitoring</li>
<li>CloudTrail Logs </li>
<li>CloudFront Logs - Standard and Real-time. </li>
</ul>
<h3 id="patterns">Patterns</h3>
<h4 id="alb-and-ec2">ALB and EC2</h4>
<ul>
<li>Route53 - Alias to CloudFront Distribution DNS</li>
<li>CloudFront Distribution - Add custom header to security communication to ALB. On CloudFront also needs to configure <code>Origin Protocol Policy</code> to HTTPS to secure communication to ALB ensuring that the custom header is kept secret. <strong><em>Rotation</em></strong> of custom header should be done of the custom header. </li>
<li>ALB - Setup Secure Listener and its rule to only forward to target group if the custom header from CloudFront Distribution is present in request. </li>
<li>EC2 - No change</li>
</ul>
<h4 id="s3-content-delivery">S3 Content Delivery</h4>
<ul>
<li>Route 53 - Use Alias with CloudFront Distribution name to forward traffic to CloudFront. </li>
<li>CloudFront Distribution - Create Origin Access Identify (OAI) and associate with distribution. SSL certificate via ACM to enforce HTTPS.</li>
<li>S3 - S3 bucket policy. Only accepts requests from OAI ARN. Block Public Access. This can be automatically done from the CloudFront Distribution OAI Configuration screen. </li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CloudFront only works with ACM certificates from the North Virginia Region. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>S3 only works with HTTP. </p>
</div>
<h2 id="aws-global-accelerator">AWS Global Accelerator</h2>
<ul>
<li>Get UDP and TCP traffic from end users to AWS endpoints via AWS infrastructure rather than public network. Optimized path for lowest latency and avoids unhealthy resources</li>
<li>Uses 2 fixed IP addresses. Can use own IP or from AWS pool. These are mapped to multiple Global Accelerator endpoints. </li>
<li>Global Accelerator can be multi-region and can forward traffic to:<ul>
<li>ELB</li>
<li>EC2</li>
<li>EIP</li>
</ul>
</li>
<li>Creation has 4 steps:<ul>
<li>Create accelerator, give it name and select 2 IP Address.</li>
<li>Listener - TCP/UDP based and ports</li>
<li>Associate listener with Endpoint Group with multiple endpoints which are for specific Region. Traffic dials can be used to weight traffic routing. Helps with Blue/Green deployments. Setup of health  checks can be done at this stage</li>
<li>Register and associate endpoints for Applications. Each endpoint can also have a weighted traffic routing within the endpoint group.</li>
</ul>
</li>
<li>Client affinity is supported for continued connections.</li>
</ul>
<h2 id="elb-elastic-load-balancer">ELB - Elastic Load Balancer</h2>
<p>Targets could be a fleet of:</p>
<ul>
<li>EC2 instances, </li>
<li>Lambda functions, </li>
<li>a range of IP addresses, </li>
<li>or even Containers.</li>
</ul>
<p>Managed by AWS and is elastic. </p>
<h3 id="comparison">Comparison</h3>
<p><a href="https://aws.amazon.com/elasticloadbalancing/features/#compare">AWS Comparison Table</a></p>
<h3 id="components_1">Components</h3>
<ul>
<li><strong>Listener</strong> - The listener defines how your inbound connections are routed to your target groups based on ports and protocols set as conditions.</li>
<li><strong>Target Groups</strong> - A target group is simply a group of resources that you want your ELB to route requests to, for example a fleet of EC2 instances. </li>
<li><strong>Rules</strong> - Rules are associated to each listener that you have configured within your ELB, and they help to define how an incoming request gets routed to which target group. </li>
</ul>
<h3 id="elb-nodes">ELB Nodes</h3>
<p>An ELB node will need to be placed to any Availability Zones for which you want to route traffic to. Without the Availability Zone associated, the ELB will not be able to route traffic to any targets within that Availability Zone even if they are defined within the target group. This is because the nodes are used by the ELB to distribute traffic to your target groups. </p>
<h3 id="internal-or-internet-facing-elbs">Internal or Internet-facing ELBs.</h3>
<ul>
<li><strong>Internet-facing ELBs</strong> - public DNS name, public IP address, internal IP address </li>
<li><strong>Internal</strong> - Internal IP address. </li>
</ul>
<p>Communication to Target Group is only done via Internal IP. </p>
<h3 id="cross-zone-load-balancing">Cross-Zone load balancing</h3>
<ul>
<li>Not set - distributes to nodes</li>
<li>Set - distributes to targets evenly. </li>
<li>Default - ALB on,  NLB off</li>
</ul>
<h3 id="alb">ALB</h3>
<ul>
<li>HTTP/HTTPs protocol.</li>
<li>Request level</li>
<li>Advanced Routing</li>
<li>TLS Termination</li>
<li>Route to particular ports / targeted </li>
<li>Visibility features for application architecture.</li>
<li>cross-zone is always on. </li>
</ul>
<h4 id="configuration">Configuration</h4>
<h5 id="target-group-configuration">Target Group Configuration</h5>
<p>Define a Target Group, consisting of:</p>
<ul>
<li>Type<ul>
<li>Instance</li>
<li>IP</li>
<li>Lambda</li>
</ul>
</li>
<li>Protocol, Port and VPC</li>
<li>Health check<ul>
<li>Protocol</li>
<li>Path</li>
<li>Healthy/unhealthy thresholds</li>
<li>Interval</li>
<li>Success codes</li>
</ul>
</li>
<li>Register Targets in the group</li>
</ul>
<h5 id="load-balancer-configuration">Load Balancer Configuration</h5>
<ul>
<li>Public / Private</li>
<li>Listeners</li>
<li>Rules can be added under listeners</li>
<li>Multiple Rules can exist.</li>
<li>Select AZs for node deployment</li>
<li>Security Group for the Load Balancer</li>
<li>Configure Routing to Target Group</li>
</ul>
<h3 id="nlb">NLB</h3>
<ul>
<li>connection level</li>
<li>ultra-high performance - millions of requests per second. </li>
<li>TCP/UDP protocol. Layer 4.</li>
<li>Listeners - TCP/TLS/UDP.</li>
<li>cross-zone can be turned on or off, default off. </li>
</ul>
<p>If your application requires a <em>Static IP</em> then NLB is the only option. </p>
<p>Once a connection is established, the connection remains open for the duration of the request. </p>
<h4 id="configuration_1">Configuration</h4>
<ul>
<li>Public / Private</li>
<li>Listeners</li>
<li>Rules can be added under listeners</li>
<li>Multiple Rules can exist.</li>
<li>Select AZs for node deployment</li>
<li>Security Group for the Load Balancer</li>
<li>Configure Routing to Target Group</li>
</ul>
<h3 id="classic-load-balancer">Classic Load Balancer</h3>
<ul>
<li>Classic environment</li>
<li>Operates at both request and connection level. </li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For target we select EC2 instances directly and not target groups.</p>
</div>
<h3 id="health-check_1">Health Check</h3>
<p>Health checks. The ELB associates a health check that is performed against the resources defined within the target group. These health checks allow the ELB to contact each target using a specific protocol to receive a response. If no response is received within a set of thresholds, then the ELB will mark the target as unhealthy and stop sending traffic to that target.</p>
<h2 id="server-certificate-ssltls">Server Certificate (SSL/TLS)</h2>
<p>HTTPS on ALB requires additional configuration.
The server certificate used by ALB is X.509. Certificate can be issued by ACM (AWS Certificate Manager). ACM doesn't work in every region and there you need your own certificates in IAM. </p>
<p>NLB also support TCP/TLS certificate based termination. </p>
<p>Certificate Selection:</p>
<ol>
<li>Choose certificate from ACM</li>
<li>Upload to ACM</li>
<li>Choose from IAM</li>
<li>Upload to IAM</li>
</ol>
<h2 id="http-code">HTTP Code</h2>
<ol>
<li>1XX - Information</li>
<li>2XX - Success</li>
<li>3XX - Redirection</li>
<li>4XX - Client Error</li>
<li>5XX - Server Error</li>
</ol>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "content.tabs.link", "navigation.instant", "navigation.tracking", "navigation.top", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../../assets/javascripts/bundle.4b2c34cd.min.js"></script>
<script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
<script src="../../../javascripts/tablesort.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>